{
    "contents" : "# load all the raw data\n# and save it because reading in Excel files \n# is the bottleneck\n# install.packages(\"ggplot2\")\nrequire(xlsx)\nrequire(data.table)\nrequire(plyr)\nrequire(magrittr)\nrequire(tidyr)\n\n\n### ============== READING IN =============== ###\n\n\n#path = \"/Users/zoz/Google Drive\"  # HOME PC \npath  = \"/Users/zoes/GoogleDrive\" # WORK MAC\n\ns22 <- read.xlsx(file = paste(path,\"/Shared-w_-Me/Zoe-Sam/soot/HF/soot.xlsx\",sep='')\n                 , sheetName = \"S22\", header = TRUE) %>%\n  data.table()\n\ns66 <- read.xlsx(file = paste(path,\"/Shared-w_-Me/Zoe-Sam/soot/HF/soot.xlsx\",sep='')\n                 , sheetName = \"S66\", header = TRUE) %>%\n  data.table()\n\n\nil2ip <- read.xlsx(file = paste(path,\"/Shared-w_-Me/Zoe-Sam/soot/HF/orig-il-int.xlsx\",sep='')\n                 , sheetName = \"Sheet1\", header = TRUE) %>%\n    data.table()\n\nil174 <- read.xlsx(file = paste(path,\"/Shared-w_-Me/Zoe-Sam/soot/HF/il174.xlsx\",sep='')\n                , sheetName = \"Sheet1\", header = TRUE) %>%\n    data.table()\n\nil174_sapt <- read.table(file = paste(path,\"/Shared-w_-Me/Zoe-Sam/soot/data/il_aDZ_HF.edat\",sep=\"\"),\n                    sep='|', strip=TRUE, header = TRUE) %>%\n    data.table()\n\nload(file = paste(path, \"/Shared-w_-Me/Zoe-Sam/soot/data/cleaned.data\",sep = ''))\n\nremove(path)\n\n#=====================================================================================#\n\n# ASSIGN NAMES TO COLUMNS\n\nsetnames(s22, c(\"sys\", \"vdz\", \"vtz\", \"vqz\", \"avdz\",\"avtz\",\"avqz\"))\n\nsetnames(s66, c(\"sys\", \"vdz\", \"vtz\", \"vqz\", \"avdz\",\"avtz\",\"avqz\"))\n\nsetnames(il174, c(\"sys\", \"vdz\", \"vtz\", \"vqz\", \"avdz\",\"avtz\",\"avqz\"))\n\nsetnames(il174_sapt, c(\"size\", \"r\", \"cationtype\", \"anion\", \"conf\",\"elst10\",\"exch10\",\"ind20\",\"exchind20\",\"hf2\",\"hf3\",\"tothf\"))\n\n# tothf = elst10 + exch10 + ind20 + exchind20 + hf2 (delta E_HF^(2)) \n# il174_sapt[, tothf - elst10 - exch10 - ind20 - exchind20 - hf2]\n\n#=====================================================================================#\n\n# ADD NEW COLUMNS // REMOVE COMLUMNS // COMBINE D.FRAMES\n\ns22$set      <- \"s22\"   # Use the same value (0) for all rows\ns66$set      <- \"s66\"\nil174$set    <- \"il174\"\nil174_sapt$cation    <- paste(\"c\",il174_sapt$r,\"m\", il174_sapt$cationtype, sep = \"\")\n\n# COMBINE DATAFRAMES VERTICALLY\nsets <- rbind(s22, s66) \n\nremove(s22, s66)\n\n# SPLIT COLUMNS\nil174 <- separate(data=il174, col=sys, into=c(\"cation\",\"anion\",\"conf\"),sep=\"-\", extra=\"drop\")\n\n#=====================================================================================#\n\n# HF SCALING ON TESTS SETS // ERRORS\n\nsets$sc_vdz  <- (sets$vdz/2) * 0.875 + -10.9 #+ 13.2\n\nsets$sc_vtz  <- (sets$vtz/2) * 0.928 + -12.5 #+ 13.2\n\n\nsets$vdz_err <- sets$avqz/2 - sets$sc_vdz\n\nsets$vtz_err <- sets$avqz/2 - sets$sc_vtz\n\n#=====================================================================================#\n\n#ADD ACCQ TO SAPT TABLE\n\nsetkey(il174, cation, anion, conf)\nsetkey(il174_sapt, cation, anion, conf)\n\n#merge(il174_sapt, il174[, c(\"cation\", \"anion\", \"conf\", \"avqz\")], by = c(\"cation\", \"anion\", \"conf\"))\nil174_sapt <- il174_sapt[il174[, c(\"cation\", \"anion\", \"conf\", \"avdz\",\"avqz\"), with = FALSE]]\n\n#=====================================================================================#\n\ndf <- data.frame(il174_sapt$avqz - il174_sapt$avdz, il174_sapt$avqz - il174_sapt$tothf)\n\nsetnames(df, c(\"avqz - avdz\",\"avqz - SAPT0HF\"))\n\nhf_diff   = il174_sapt$avqz - il174_sapt$avdz\nsapt_diff = il174_sapt$avqz - il174_sapt$tothf\n\n\n\n",
    "created" : 1476069805901.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "3745523260",
    "id" : "1A3ACF1D",
    "lastKnownWriteTime" : 1476170455,
    "path" : "~/GoogleDrive/Shared-w_-Me/Zoe-Sam/soot/HF/load.r",
    "project_path" : "load.r",
    "properties" : {
    },
    "relative_order" : 1,
    "source_on_save" : false,
    "type" : "r_source"
}